# 서울시 주요 82장소 영역 지도 시각화 실행 가이드

## 📋 개요
서울시 주요 82장소 영역 Shapefile 데이터를 Folium 인터랙티브 지도로 시각화합니다.

---

## 🔧 1단계: 필요 라이브러리 설치

명령 프롬프트(CMD)를 열고 다음 명령어를 실행하세요:

```bash
cd d:\git_rk
pip install geopandas folium pandas openpyxl
```

### 설치 확인
```bash
python -c "import geopandas, folium; print('설치 완료!')"
```

---

## 🚀 2단계: 지도 생성 실행

### 방법 1: 배치 파일 실행 (추천)
```bash
d:\git_rk\run_map_visualization.bat
```
- 더블클릭하거나 명령 프롬프트에서 실행
- 결과는 `map_creation_log.txt`에 저장됩니다

### 방법 2: Python 직접 실행
```bash
cd d:\git_rk
python map_visualization.py
```

---

## 📊 3단계: 결과 확인

### 출력 파일
- **HTML 지도**: `d:\git_rk\output\서울시_82장소_지도.html`
- **로그 파일**: `d:\git_rk\map_creation_log.txt`

### HTML 지도 열기
1. 파일 탐색기에서 `d:\git_rk\output\서울시_82장소_지도.html` 찾기
2. 더블클릭하여 브라우저에서 열기
3. 지도 기능:
   - **확대/축소**: 마우스 휠 또는 +/- 버튼
   - **이동**: 드래그
   - **영역 클릭**: 팝업으로 상세 정보 표시
   - **마우스 오버**: 툴팁으로 장소명 표시
   - **배경 지도 변경**: 우측 상단 레이어 컨트롤
   - **전체 화면**: 우측 상단 전체 화면 버튼

---

## ❓ 문제 해결

### geopandas 설치 오류
geopandas는 의존성이 많은 라이브러리입니다. 설치 오류 발생 시:

```bash
# conda 사용 (추천)
conda install -c conda-forge geopandas folium

# 또는 pip로 개별 설치
pip install numpy pandas
pip install shapely fiona pyproj
pip install geopandas folium
```

### 한글 깨짐 문제
- 브라우저에서 인코딩을 UTF-8로 설정
- Chrome: 설정 > 고급 > 언어 > 인코딩

### 파일을 찾을 수 없음
- Shapefile 경로 확인: `d:\git_rk\data\서울시 상권\서울시 주요 82장소 영역\`
- 모든 Shapefile 구성 요소(.shp, .dbf, .shx, .prj, .cpg) 존재 확인

---

## 📝 스크립트 설명

### map_visualization.py
1. Shapefile 데이터 로드 (cp949 인코딩)
2. 좌표계를 WGS84(EPSG:4326)로 변환
3. Folium 지도 생성 (서울 중심)
4. 82개 영역을 색상별로 구분하여 폴리곤 추가
5. 각 영역에 팝업과 툴팁 추가
6. HTML 파일로 저장

### 주요 기능
- **인터랙티브**: 확대/축소, 클릭, 드래그
- **다양한 배경 지도**: OpenStreetMap, CartoDB 등
- **상세 정보**: 각 영역의 모든 속성 정보 표시
- **한글 지원**: 장소명 및 속성 정보 한글 표시

---

## 🎨 추가 옵션

### 정적 지도 생성 (보고서용)
Matplotlib 기반 고품질 이미지가 필요한 경우:

```bash
pip install matplotlib contextily koreanize-matplotlib
python static_map_visualization.py
```

출력: `d:\git_rk\output\서울시_82장소_지도.png`

### 상권 데이터 연계 대시보드
82장소 영역과 상권 데이터를 결합한 분석이 필요한 경우:

```bash
pip install plotly
python integrated_dashboard.py
```

출력: `d:\git_rk\output\서울시_상권_대시보드.html`

---

## 📞 지원

문제 발생 시 다음 정보를 제공해주세요:
1. 오류 메시지 (전체)
2. `map_creation_log.txt` 내용
3. Python 버전: `python --version`
4. 설치된 라이브러리 버전: `pip list | findstr "geopandas folium"`
