# 업종 대분류 변환 SPSS Syntax (v2)

> **기준**: `업종 변환 syntax sample.md`의 중분류 변환 결과(`b1#1r`)를  
> `표준산업분류_대분류.csv` 매핑을 적용하여 대분류(`b1#1_daebunryu`)로 재분류

---

## 1단계: 중분류 → 대분류 RECODE

```spss
* ============================================================.
* 업종 대분류 변환 (중분류 결과 b1#1r → 대분류 b1#1_daebunryu).
* 기준: 표준산업분류_대분류.csv (한국표준산업분류 10차 기준).
* ============================================================.

RECODE b1#1r
    (1=1) (2=1) (3=1)
    (5=2) (6=2) (7=2) (8=2)
    (10=3) (11=3) (12=3) (13=3) (14=3) (15=3) (16=3) (17=3) (18=3)
    (19=3) (20=3) (21=3) (22=3) (23=3) (24=3) (25=3) (26=3) (27=3)
    (28=3) (29=3) (30=3) (31=3) (32=3) (33=3) (34=3)
    (35=4)
    (36=5) (37=5) (38=5) (39=5)
    (41=6) (42=6)
    (45=7) (46=7) (47=7)
    (49=8) (50=8) (51=8) (52=8)
    (55=9) (56=9)
    (58=10) (59=10) (60=10) (61=10) (62=10) (63=10)
    (64=11) (65=11) (66=11)
    (68=12)
    (70=13) (71=13) (72=13) (73=13)
    (74=14) (75=14) (76=14)
    (84=15)
    (85=16)
    (86=17) (87=17)
    (90=18) (91=18)
    (100=1) (200=2) (1200=3) (1400=5) (1500=6) (1600=7)
    (1700=8) (1800=9) (1900=10) (2000=11)
    (9999=9999)
    (else=copy)
 into b1#1_daebunryu.

EXECUTE.
```

---

## 2단계: VALUE LABELS 부여

```spss
VALUE LABELS
    b1#1_daebunryu
    1  'A 농업, 임업 및 어업'
    2  'B 광업'
    3  'C 제조업'
    4  'D 전기, 가스, 증기 및 공기 조절 공급업'
    5  'E 수도, 하수 및 폐기물 처리, 원료 재생업'
    6  'F 건설업'
    7  'G 도매 및 소매업'
    8  'H 운수 및 창고업'
    9  'I 숙박 및 음식점업'
    10 'J 정보통신업'
    11 'K 금융 및 보험업'
    12 'L 부동산업'
    13 'M 전문, 과학 및 기술 서비스업'
    14 'N 사업시설 관리, 사업 지원 및 임대 서비스업'
    15 'O 공공 행정, 국방 및 사회보장 행정'
    16 'P 교육 서비스업'
    17 'Q 보건업 및 사회복지 서비스업'
    18 'R 예술, 스포츠 및 여가관련 서비스업'
    9999 '알수없음'.
```

---

## 기존 대분류 syntax(v1) 대비 변경사항

### 접근 방식 변경
- **v1(기존)**: 원본 `b1` 값에서 직접 대분류로 변환 → 일부 매핑 오류 존재
- **v2(신규)**: 중분류 변환 결과(`b1#1r`)에서 대분류로 재변환 → `표준산업분류_대분류.csv` 기준 정확한 매핑

### 주요 수정 내용

| 구분                  | v1 (기존)              | v2 (수정)                          | 비고                                           |
| --------------------- | ---------------------- | ---------------------------------- | ---------------------------------------------- |
| 입력 변수             | `b1` (원본)            | `b1#1r` (중분류 변환 결과)         | 2단계 변환으로 정확도 향상                     |
| 제조업(C) 중분류 코드 | 직접 매핑 시 일부 누락 | 10~34 전체 포함                    | 19, 20, 26, 27, 28, 29, 30 추가                |
| 대분류 코드값 처리    | 미포함                 | 100, 200, 1200, 1400, 1500 등 포함 | 중분류 syntax에서 대분류로 직접 할당된 값 처리 |
| L 부동산업            | 누락                   | 68=12 추가                         |                                                |
| O 공공행정            | 누락                   | 84=15 추가                         |                                                |
| P 교육서비스업        | 누락                   | 85=16 추가                         |                                                |
| U 국제 및 외국기관    | 21=U 포함              | 해당 코드 없으므로 제외            | csv에 해당 분류 없음                           |

### 중분류 → 대분류 매핑 전체 참조표

| 대분류 코드 | 대분류명                                  | 중분류 코드                  |
| ----------- | ----------------------------------------- | ---------------------------- |
| 1 (A)       | 농업, 임업 및 어업                        | 01, 02, 03, 100              |
| 2 (B)       | 광업                                      | 05, 06, 07, 08, 200          |
| 3 (C)       | 제조업                                    | 10~34, 1200                  |
| 4 (D)       | 전기, 가스, 증기 및 공기 조절 공급업      | 35                           |
| 5 (E)       | 수도, 하수 및 폐기물 처리, 원료 재생업    | 36, 37, 38, 39, 1400         |
| 6 (F)       | 건설업                                    | 41, 42, 1500                 |
| 7 (G)       | 도매 및 소매업                            | 45, 46, 47, 1600             |
| 8 (H)       | 운수 및 창고업                            | 49, 50, 51, 52, 1700         |
| 9 (I)       | 숙박 및 음식점업                          | 55, 56, 1800                 |
| 10 (J)      | 정보통신업                                | 58, 59, 60, 61, 62, 63, 1900 |
| 11 (K)      | 금융 및 보험업                            | 64, 65, 66, 2000             |
| 12 (L)      | 부동산업                                  | 68                           |
| 13 (M)      | 전문, 과학 및 기술 서비스업               | 70, 71, 72, 73               |
| 14 (N)      | 사업시설 관리, 사업 지원 및 임대 서비스업 | 74, 75, 76                   |
| 15 (O)      | 공공 행정, 국방 및 사회보장 행정          | 84                           |
| 16 (P)      | 교육 서비스업                             | 85                           |
| 17 (Q)      | 보건업 및 사회복지 서비스업               | 86, 87                       |
| 18 (R)      | 예술, 스포츠 및 여가관련 서비스업         | 90, 91                       |
