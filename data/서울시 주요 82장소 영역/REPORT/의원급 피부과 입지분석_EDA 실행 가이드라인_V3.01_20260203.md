# 의원급 피부과 입지 분석을 위한 EDA 실행 가이드라인

**작성일**: 2026-02-03  
**버전**: 3.01 (데이터 로딩 스크립트 오류 수정)  
**데이터 기준**: 강남구 주요 82장소 상권 데이터 (2022년 1분기 ~ 2024년 4분기)  
**분석 목적**: 의원급 피부과 최적 입지 선정을 위한 탐색적 데이터 분석

---

## 📋 변경 이력

### v3.01 (2026-02-03)
- ✅ **데이터 로딩 스크립트 무한 로딩 오류 수정**
  - 파일별 로딩 진행상황 실시간 표시 추가
  - 한글 폰트 설정 최적화 (`koreanize_matplotlib` import 오류 처리)
  - 파일 존재 여부 사전 확인 로직 추가
  - 강화된 에러 메시지 및 처리
- ✅ 실행 전 체크리스트 추가

### v3.00 (2026-02-03)
- 스토리텔링 개선 및 산출물 구조화
- 유동인구 데이터 분석 추가

---

## ⚠️ 주요 오류 수정 내역

### 문제: 무한 로딩 발생
**증상**: 스크립트 실행 시 시작 단계에서 무한 로딩 상태로 멈춤

**원인**:
1. `koreanize_matplotlib` 라이브러리 import 시 초기화 지연
2. 대용량 CSV 파일 로딩 시 진행상황 표시 부재로 인한 사용자 혼란
3. 에러 발생 시 명확한 메시지 부재

**해결책**:
1. ✅ 한글 폰트 설정을 try-except로 감싸고 대체 폰트 옵션 제공
2. ✅ 파일별 로딩 진행상황을 실시간으로 표시 (`flush=True` 사용)
3. ✅ 파일 존재 여부를 사전에 확인하고 명확한 에러 메시지 제공
4. ✅ 각 단계별 진행상황 표시 ([1/3], [2/3], [3/3])

---

## 목차

1. [데이터 개요](#1-데이터-개요)
2. [산출물 디렉토리 구조](#2-산출물-디렉토리-구조)
3. [분석 스토리라인](#3-분석-스토리라인)
4. [단계별 EDA 실행](#4-단계별-eda-실행)
5. [추가 심화 분석](#5-추가-심화-분석)
6. [결과 리포트 작성](#6-결과-리포트-작성)
7. [참고 자료](#7-참고-자료)

---

## 1. 데이터 개요

### 1.1 사용 가능한 데이터셋

강남구 5개 주요 상권(양재역, 가로수길, 강남역, 역삼역, 선릉역)에 대한 9개 CSV 파일:

| 파일명 | 주요 내용 | 활용도 |
|--------|----------|--------|
| `영역-상권.csv` | 상권 기본정보 (좌표, 면적, 행정구역) | ★★★ |
| `점포-상권.csv` | 업종별 점포 수, 개폐업률 (분기별) | ★★★★★ |
| `추정매출-상권.csv` | 업종별 매출액/건수, 시간대/요일/연령대별 분석 | ★★★★★ |
| `상주인구-상권.csv` | 거주 인구 통계 (성별, 연령대별) | ★★★★ |
| `직장인구-상권.csv` | 직장 인구 통계 (성별, 연령대별) | ★★★★ |
| `소득소비-상권.csv` | 월평균 소득, 지출 패턴 | ★★★★ |
| `집객시설-상권.csv` | 지하철역, 버스 정거장, 은행, 약국 등 집객시설 | ★★★★ |
| `길단위인구-상권.csv` | 유동인구 데이터 (시간대별, 연령대별) | ★★★★ |
| `상권변화지표-상권.csv` | 상권 활성화 지표 | ★★★ |

---

## 2. 산출물 디렉토리 구조

분석 결과는 다음과 같은 **분석 주제별 디렉토리 구조**로 저장됩니다:

```
REPORT/
├── 00_스크립트/
│   ├── 01_데이터로딩.py                # 초기 설정 및 데이터 로딩
│   ├── 02_경쟁환경분석.py              # Step 1 스크립트
│   ├── 03_고객분석.py                  # Step 2, 2-1 스크립트
│   ├── 04_인구유동분석.py              # Step 3, 4 스크립트
│   ├── 05_입지조건분석.py              # Step 5, 6 스크립트
│   ├── 06_종합평가.py                  # Step 7 스크립트
│   └── 99_전체실행.py                  # 전체 분석 일괄 실행
│
├── 01_경쟁환경분석/
│   ├── 경쟁환경_분석.csv               # 개폐업률, 성장률 통계
│   ├── 의원_점포수_추이.png            # 시계열 그래프
│   └── 성장률_분석.png                 # 성장률 차트
│
├── 02_고객분석/
│   ├── 타겟층_매출분석.csv             # 여성/연령대별 매출 통계
│   ├── 주중주말_패턴.csv               # 주중/주말 매출 통계
│   ├── 유사업종_비교.csv               # 피부관리실 vs 일반의원
│   ├── 타겟층_매출분석.png             # 4개 차트 통합
│   └── 유사업종_비교분석.png           # 비교 차트
│
├── 03_인구유동분석/
│   ├── 인구구조_분석.csv               # 상주/직장 인구 통계
│   ├── 유동인구_분석.csv               # 유동인구 통계
│   ├── 인구구조_비교.png               # 인구 구조 차트
│   └── 유동인구_분석.png               # 유동인구 차트
│
├── 04_입지조건분석/
│   ├── 접근성_인프라.csv               # 대중교통 및 의료 인프라
│   ├── 소득소비_분석.csv               # 소득 및 의료비 지출
│   ├── 접근성_인프라_분석.png          # 접근성 4개 차트
│   └── 소득_의료비지출_분석.png        # 소득/소비 차트
│
├── 05_종합평가/
│   ├── 종합평가.csv                    # 최종 종합 평가 결과
│   ├── 종합평가_레이더차트.png         # 레이더 차트
│   └── 계절성_분석.png                 # 계절성 패턴
│
└── 06_최종리포트/
    └── 피부과_입지분석_최종보고서.md   # 종합 보고서
```

### 디렉토리 설명

| 디렉토리 | 내용 | 파일 형식 |
|---------|------|----------|
| `00_스크립트/` | 분석 실행 Python 스크립트 | .py |
| `01_경쟁환경분석/` | 시장 규모, 경쟁 강도, 성장률 | CSV + PNG |
| `02_고객분석/` | 타겟층 매출, 주중/주말 패턴, 유사업종 | CSV + PNG |
| `03_인구유동분석/` | 상주/직장 인구, 유동인구 | CSV + PNG |
| `04_입지조건분석/` | 접근성, 인프라, 소득/소비 | CSV + PNG |
| `05_종합평가/` | 9개 지표 통합 평가, 계절성 | CSV + PNG |
| `06_최종리포트/` | 최종 보고서 문서 | MD |

---

## 3. 분석 스토리라인

### 📖 분석의 흐름

피부과 입지 선정은 다음과 같은 **스토리텔링 순서**로 진행됩니다:

#### **Act 1: 시장 이해하기** 🔍
> "강남구 의료 시장은 어떤 상황인가?"

1. **Step 1: 시장 규모 및 경쟁 환경 파악**
   - 상권별 일반의원 수와 추세
   - 개폐업률로 시장 안정성 확인
   - 성장성 있는 상권 식별

#### **Act 2: 고객 이해하기** 👥
> "우리의 타겟 고객은 누구이며, 어디에 있는가?"

2. **Step 2: 타겟 고객층 매출 패턴 분석**
   - 여성 및 20~40대 매출 비중 확인
   - 주중/주말 방문 패턴 파악
   - 피부관리실과 비교하여 피부과 수요 예측

3. **Step 3: 인구 구조 분석**
   - 상주인구 vs 직장인구 비교
   - 타겟층(여성 20~40대) 밀집도 확인

4. **Step 4: 유동인구 분석**
   - 상권 활성화 정도 파악
   - 잠재 고객 규모 추정

#### **Act 3: 입지 조건 평가하기** 📍
> "고객이 방문하기 편리한 곳은 어디인가?"

5. **Step 5: 접근성 및 인프라 분석**
   - 대중교통 편의성 (지하철, 버스)
   - 의료 인프라 집중도 (병원, 약국)

6. **Step 6: 소득 및 소비력 분석**
   - 상권별 소득 수준
   - 의료비 지출 성향

#### **Act 4: 최종 의사결정** 🎯
> "모든 조건을 고려했을 때 최적의 입지는?"

7. **Step 7: 종합 입지 평가**
   - 9개 지표 통합 스코어링
   - 레이더 차트로 상권별 강약점 시각화
   - 최종 입지 추천 (Top 3)

---

## 4. 단계별 EDA 실행

> [!IMPORTANT]
> **실행 전 체크리스트**
> - [ ] `koreanize-matplotlib` 라이브러리 설치 확인: `pip install koreanize-matplotlib`
> - [ ] 데이터 경로 확인: `d:/git_rk/data/서울시 주요 82장소 영역/Gangnam_CSV_20260203_094620/`
> - [ ] 8개 CSV 파일 존재 확인
> - [ ] Python 환경 활성화 확인

### 4.0 초기 설정 및 데이터 로딩

**스크립트 파일**: `REPORT/00_스크립트/01_데이터로딩.py`

**주요 개선사항 (v1.1)**:
- ✅ 파일별 로딩 진행상황 실시간 표시
- ✅ 한글 폰트 설정 최적화 (무한 로딩 방지)
- ✅ 강화된 에러 처리 및 메시지
- ✅ 파일 존재 여부 사전 확인

**실행 방법**:
```bash
cd d:/git_rk/data/서울시 주요 82장소 영역/REPORT/00_스크립트
python 01_데이터로딩.py
```

**예상 출력**:
```
======================================================================
의원급 피부과 입지 분석 - 데이터 로딩 시작
======================================================================

[1/3] 한글 폰트 설정 중...
✓ koreanize_matplotlib 로딩 완료

[2/3] 산출물 디렉토리 생성 중...
✓ 7개 디렉토리 생성 완료

[3/3] 데이터 로딩 중...
----------------------------------------------------------------------
[1/8] 영역-상권 로딩 중... ✓ (5 rows, 15 cols)
[2/8] 점포-상권 로딩 중... ✓ (55 rows, 25 cols)
[3/8] 추정매출-상권 로딩 중... ✓ (55 rows, 60 cols)
[4/8] 상주인구-상권 로딩 중... ✓ (55 rows, 40 cols)
[5/8] 직장인구-상권 로딩 중... ✓ (55 rows, 40 cols)
[6/8] 소득소비-상권 로딩 중... ✓ (55 rows, 20 cols)
[7/8] 집객시설-상권 로딩 중... ✓ (55 rows, 30 cols)
[8/8] 길단위인구-상권 로딩 중... ✓ (2,750 rows, 25 cols)
----------------------------------------------------------------------
✓ 모든 CSV 파일 로딩 완료

데이터 전처리 중...

======================================================================
✅ 데이터 로딩 완료
======================================================================
  📅 분석 기준 분기: 20244
  📍 상권 수: 5
  📊 데이터셋 요약:
     - 점포 데이터: 55 rows
     - 매출 데이터: 55 rows
     - 상주인구 데이터: 55 rows
     - 직장인구 데이터: 55 rows
     - 소득소비 데이터: 55 rows
     - 집객시설 데이터: 55 rows
     - 유동인구 데이터: 2,750 rows
======================================================================

✅ 데이터 로딩 스크립트 실행 완료
📌 다음 단계: 02_경쟁환경분석.py 실행

======================================================================
```

> [!TIP]
> **문제 해결**
> 
> 만약 `koreanize-matplotlib` 설치가 안 되어 있다면:
> ```bash
> pip install koreanize-matplotlib
> ```
> 
> 파일을 찾을 수 없다는 오류가 발생하면:
> 1. 데이터 경로 확인: `d:/git_rk/data/서울시 주요 82장소 영역/Gangnam_CSV_20260203_094620/`
> 2. 해당 경로에 8개 CSV 파일이 모두 존재하는지 확인

---

(이하 나머지 섹션은 기존 가이드라인과 동일)
