# 병원정보조회 웹 애플리케이션 사용 가이드

**버전**: 1.0  
**작성일**: 2026-01-14

---

## 📋 목차

1. [시작하기](#시작하기)
2. [실행 방법](#실행-방법)
3. [기본 사용법](#기본-사용법)
4. [전체 데이터 다운로드](#전체-데이터-다운로드)
5. [문제 해결](#문제-해결)

---

## 시작하기

### 필요한 것

1. **API 인증키**: 공공데이터포털에서 발급
2. **웹 브라우저**: Chrome 또는 Edge 최신 버전
3. **로컬 서버**: VS Code Live Server 또는 Python 웹 서버

### API 인증키 발급 방법

1. [공공데이터포털](https://www.data.go.kr/) 접속 및 회원가입/로그인
2. [병원정보서비스 OpenAPI](https://www.data.go.kr/data/15051059/openapi.do) 활용신청
3. 승인 후 약 30분 뒤부터 사용 가능 (자동승인)
4. [마이페이지 > 인증키 발급현황](https://www.data.go.kr/iim/api/selectApiKeyList.do)에서 **일반 인증키(Decoding)** 복사

> ⚠️ **중요**: 반드시 **디코딩(Decoding) 인증키**를 사용하세요!

---

## 실행 방법

### 방법 1: VS Code Live Server (권장)

1. VS Code 설치
2. Live Server 확장 설치
3. `병원정보조회_웹앱.html` 파일 우클릭
4. "Open with Live Server" 클릭

### 방법 2: Python 웹 서버

```bash
# 터미널에서 실행
cd D:\git_rk\openapi\getHospBasisList
python -m http.server 8000
```

브라우저에서 접속:
```
http://localhost:8000/병원정보조회_웹앱.html
```

### 방법 3: Node.js http-server

```bash
npx http-server -p 8000
```

> ⚠️ **주의**: 파일을 직접 더블 클릭하여 열면 CORS 오류가 발생합니다!

---

## 기본 사용법

### 1단계: API 인증키 입력

1. 페이지 상단 "Ⅰ. 공공데이터 포털 OpenAPI 인증키" 섹션
2. 발급받은 **디코딩 인증키** 입력

### 2단계: 검색 조건 설정

"Ⅱ. 검색 조건" 섹션에서 원하는 조건 선택:

- **시도**: 서울, 부산, 대구 등
- **시군구**: 시도 선택 시 자동으로 목록 표시
- **병원명**: 병원명 일부 입력 (예: "서울의료원")
- **읍면동명**: 읍면동 이름 (예: "신내동")
- **종별**: 상급종합병원, 종합병원, 의원 등
- **진료과목**: 내과, 피부과, 소아청소년과 등
- **결과 수**: 한 페이지에 표시할 결과 수 (10/20/50/100)

### 3단계: 검색 실행

1. "🔍 검색하기" 버튼 클릭
2. 로딩 표시 확인
3. 검색 결과 확인

### 4단계: 결과 확인

"Ⅲ. 검색 결과" 섹션에서:

- **요약 정보**: 전체 건수 및 현재 표시 범위
- **결과 테이블**: 병원명, 종별, 주소, 전화번호 등
- **페이징**: 이전/다음 버튼으로 페이지 이동

### 5단계: 엑셀 다운로드

두 가지 옵션:

1. **📥 현재 페이지 다운로드**: 현재 화면에 표시된 데이터만 다운로드
2. **📥 전체 데이터 다운로드**: 검색 조건에 맞는 모든 데이터 다운로드

---

## 전체 데이터 다운로드

### 사용 방법

1. 검색 실행 (검색 조건 설정 후 "🔍 검색하기")
2. "📥 전체 데이터 다운로드" 버튼 클릭
3. 확인 메시지에서 "확인" 클릭
4. 진행 상태 모달 확인
   - 진행률 바 (0-100%)
   - 현재 페이지/전체 페이지
   - 수집된 건수/전체 건수
   - 예상 남은 시간
5. 다운로드 완료 대기
6. 엑셀 파일 자동 다운로드

### 진행 상태 모달

- **진행률 바**: 전체 진행 상황을 시각적으로 표시
- **상태 텍스트**: 현재 작업 내용 (예: "페이지 5/10 다운로드 중...")
- **세부 정보**: 수집된 건수 및 예상 남은 시간
- **취소 버튼**: 다운로드 중단 (현재까지 수집된 데이터 저장 옵션 제공)

### 주의사항

- **트래픽 제한**: 개발계정은 일 1,000건 제한
- **시간 소요**: 데이터 양에 따라 수 분 소요 가능
- **네트워크 안정성**: 안정적인 인터넷 연결 필요
- **브라우저 탭**: 다운로드 중 탭을 닫지 마세요

---

## 문제 해결

### Q1: "API 호출이 차단됩니다" 오류

**원인**: CORS 정책으로 인한 차단

**해결**:
- 파일을 직접 열지 말고 로컬 서버 사용
- VS Code Live Server 또는 Python 웹 서버 사용

### Q2: "등록되지 않은 인증키입니다" 오류

**원인**: 잘못된 인증키 또는 인코딩 키 사용

**해결**:
1. 공공데이터포털에서 **디코딩 인증키** 확인
2. 인증키 발급 후 30분 이상 경과했는지 확인
3. 인증키 복사 시 공백이 포함되지 않았는지 확인

### Q3: "검색 결과가 없습니다" 오류

**원인**: 검색 조건에 맞는 데이터 없음

**해결**:
- 검색 조건을 완화 (예: 시군구 선택 해제)
- 병원명 검색 시 일부만 입력

### Q4: "일일 트래픽 제한 초과" 오류

**원인**: 개발계정 일 1,000건 제한 초과

**해결**:
- 다음 날 다시 시도
- 운영계정 신청 (별도 승인 필요)

### Q5: 전체 다운로드 중 오류 발생

**원인**: 네트워크 불안정 또는 API 서버 오류

**해결**:
- 재시도 로직이 자동으로 작동 (최대 3회)
- 오류 발생 시 현재까지 수집된 데이터 저장 옵션 제공
- 네트워크 안정성 확인 후 재시도

### Q6: 엑셀 파일이 다운로드되지 않음

**원인**: 브라우저 팝업 차단 또는 다운로드 설정

**해결**:
- 브라우저 팝업 차단 해제
- 다운로드 폴더 확인
- 다른 브라우저로 시도

---

## 팁과 요령

### 효율적인 검색

1. **광범위한 검색**: 시도만 선택하여 전체 지역 검색
2. **상세 검색**: 시군구 + 진료과목 조합으로 정확한 검색
3. **병원명 검색**: 특정 병원 찾기

### 데이터 활용

1. **엑셀 필터**: 다운로드한 엑셀 파일에서 필터 기능 활용
2. **정렬**: 의사 수, 개설일자 등으로 정렬
3. **피벗 테이블**: 지역별, 종별 통계 분석

### 성능 최적화

1. **결과 수 조정**: 필요한 만큼만 조회 (10/20/50/100)
2. **검색 조건 활용**: 불필요한 데이터 제외
3. **페이징 활용**: 전체 다운로드 전 샘플 확인

---

## 지원 및 문의

- **개발 문서**: `REPORT/개발_과정_문서_260114.md`
- **가이드라인**: `REPORT/OpenAPI_웹앱_개발_가이드라인_260114.md`
- **공공데이터포털**: https://www.data.go.kr/
- **API 문서**: `getHospBasisList_api_guideline.md`

---

**작성**: 2026-01-14  
**버전**: 1.0
